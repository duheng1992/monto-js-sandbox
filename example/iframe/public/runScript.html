<!DOCTYPE html>
<html>

<script type="module">
  import { IframeSandbox } from '/dist/index.esm.js';

  const scriptText = `
    console.log(window.top !== window ? '我在 iframe 中' : '我不在 iframe 中');
    var a = 111;
    console.log('a: ', a);
    window.aa = 1111;
    console.log('aa: ',aa);
  `;

  const sb = new IframeSandbox({
    rootElm: document.body,
    id: 'iframe-test',
  });

  sb.active(scriptText);

  console.log('外部的 a: ', window.a);
  console.log('外部的 aa: ', window.aa);
  console.log(window.top !== window ? '我在 iframe 中' : '我不在 iframe 中');

  sb.destroy();
</script>

</html>